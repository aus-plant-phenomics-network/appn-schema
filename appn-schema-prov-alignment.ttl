# TODO: Prune unnecessary prefixes
@prefix appn: <https://schema.plantphenomics.org.au/> .
@prefix bio: <https://bioschemas.org/> .
@prefix cdi: <http://ddialliance.org/Specification/DDI-CDI/1.0/RDF/> .
@prefix dcat: <http://www.w3.org/ns/dcat#> .
@prefix dcmitype: <http://purl.org/dc/dcmitype/> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix ppeo: <http://purl.org/ppeo/PPEO.owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix schema: <https://schema.org/> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix sosa: <https://www.w3.org/ns/sosa/> .
@prefix ssn: <https://www.w3.org/ns/ssn/> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix void: <http://rdfs.org/ns/void#> .

# TODO: All class relationships are rdfs:subClassOf rather than rdfs:subClassOf to minimise risk of breaking semantics elsewhere, but some should be replaceable with owl:equivalentClass as things become clearer.

# COMMENT: schema:Action seems the obvious place to anchor ResearchActivity in schema.org. It inherits schema:startTime and schema:endTime.
appn:ResearchActivity a rdfs:Class ;
    rdfs:label "ResearchActivity" ;
    rdfs:comment "A time-delimited activity contributing to a research goal." ;
    rdfs:subClassOf schema:Action ;
    rdfs:subClassOf prov:Activity .

appn:Assay a rdfs:Class ;
    rdfs:label "Assay" ;
    rdfs:comment "A research action that observes or modifies a set of ObservationUnits." ;
    rdfs:subClassOf appn:ResearchActivity ;
    rdfs:subClassOf sosa:Execution ;
    rdfs:subClassOf ppeo:Assay .

appn:Method a rdfs:Class ;
    rdfs:label "Method" ;
    rdfs:comment "A method or process for performing an Assay." ;
    rdfs:subClassOf sosa:Procedure ;
    rdfs:subClassOf prov:Plan ;
    rdfs:subClassOf schema:HowTo .

appn:Observation a rdfs:Class ;
    rdfs:label "Observation" ;
    rdfs:comment "An Assay that observes or measures properties of one or more ObservationUnits returning results as property values or images." ;
    rdfs:subClassOf appn:Assay ;
    rdfs:subClassOf ppeo:Observation .

appn:ObservationUnit a rdfs:Class ;
    rdfs:label "ObservationUnit" ;
    rdfs:comment "An entity for which a Study collects data." ;
    rdfs:subClassOf schema:Thing ;
    rdfs:subClassOf prov:Entity ;
    rdfs:subClassOf ppeo:ObservationUnit ;
    rdfs:subClassOf sosa:FeatureOfInterest .

appn:Trait a rdfs:Class ;
    rdfs:label "Trait" ;
    rdfs:comment "A concept represented by a Variable." ;
    rdfs:subClassOf cdi:Concept ;
    rdfs:subClassOf schema:DefinedTerm .

appn:Scale a rdfs:Class ;
    rdfs:label "Scale" ;
    rdfs:comment "A system of units or representation format for values associated with a Variable." ;
    rdfs:subClassOf schema:DefinedTerm .

appn:Variable a rdfs:Class ;
    rdfs:label "Variable" ;
    rdfs:comment "Representation of a Trait using a defined Scale." ;
    rdfs:subClassOf sosa:Property ;
    rdfs:subClassOf cdi:RepresentedVariable ;
    rdfs:subClassOf schema:InstanceValue .

appn:ObservedVariable a rdfs:Class ;
    rdfs:label "A Variable (representation of a Trait using a defined Scale) observed or measured for one or more ObservationUnits." ;
    rdfs:comment "ObservedVariable." ;
    rdfs:subClassOf appn:Variable .

appn:Observer a rdfs:Class ;
    rdfs:label "Observer" ;
    rdfs:comment "Observer." ;
    rdfs:subClassOf prov:Entity ;
    rdfs:subClassOf sosa:Sensor .

appn:Sensor a rdfs:Class ;
    rdfs:label "Sensor" ;
    rdfs:comment "Sensor." ;
    rdfs:subClassOf appn:Observer ;
    rdfs:subClassOf schema:IndividualProduct .

appn:Person a rdfs:Class ;
    rdfs:label "Person" ;
    rdfs:comment "Person." ;
    rdfs:subClassOf appn:Observer ;
    rdfs:subClassOf appn:Controller ;
    rdfs:subClassOf appn:Sampler ;
    rdfs:subClassOf schema:Person .

appn:Software a rdfs:Class ;
    rdfs:label "Software" ;
    rdfs:comment "Software." ;
    rdfs:subClassOf bio:ComputationalWorkflow ;
    rdfs:subClassOf appn:Observer ;
    rdfs:subClassOf appn:Controller .

appn:isForObservationUnit a rdfs:Property ;
    rdfs:label "isForObservationUnit" ;
    rdfs:comment "Relates an Assay to an ObservationUnit for which it is carried out." ;
    rdfs:subPropertyOf prov:used ;
    rdfs:subPropertyOf sosa:hasFeatureOfInterest ;
    schema:domainIncludes appn:Assay ;
    schema:rangeIncludes appn:ObservationUnit .

appn:madeByObserver a rdfs:Property ;
    rdfs:label "madeByObserver" ;
    rdfs:comment "Identifies the entity used to carry out an Observation." ;
    rdfs:subPropertyOf sosa:madeBySensor ;
    rdfs:subPropertyOf prov:wasAssociatedWith ;
    schema:domainIncludes appn:Observation ;
    schema:rangeIncludes appn:Observer .

appn:hasResult a rdfs:Property ;
    rdfs:label "hasResult" ; 
    rdfs:description "hasResult" ;
    rdfs:subPropertyOf prov:generated ;
    rdfs:subPropertyOf sosa:hasResult ;
    schema:domainIncludes appn:Observation ;
    schema:rangeIncludes schema:Dataset,schema:File .

appn:observed a rdfs:Property ;
    rdfs:label "observed" ; 
    rdfs:description "observed" ;
    rdfs:subPropertyOf sosa:observedProperty ;
    schema:domainIncludes appn:Observation ;
    schema:rangeIncludes appn:ObservedVariable .

appn:usedMethod a rdfs:Property ;
    rdfs:label "usedMethod" ;
    rdfs:description "Identifies a Method used to conduct an Assay." ;
    rdfs:subPropertyOf sosa:usedProcedure ;
    schema:domainIncludes appn:Assay ;
    schema:rangeIncludes appn:Method .

appn:hasTrait a rdfs:Property ;
    rdfs:label "hasTrait" ;
    rdfs:description "Identified the Trait associated with a Variable." ;
    schema:domainIncludes appn:Variable ;
    schema:rangeIncludes appn:Trait .

appn:hasScale a rdfs:Property ;
    rdfs:label "hasScale" ;
    rdfs:description "Identified the Scale associated with a Variable." ;
    schema:domainIncludes appn:Variable ;
    schema:rangeIncludes appn:Scale .
